ASF InSAR Data Package (GAMMA)
==============================

This folder contains SAR Interferometry (InSAR) products and their associated files. They were generated by the Alaska Satellite Facility (ASF) HyP3 InSAR software version [HYP3_VER] running GAMMA release [GAMMA_VER]. The pixel spacing is [SPACING] m.

The source granules for this InSAR product are:
 - Reference: [REF_NAME]
 - Secondary: [SEC_NAME]

Processing Date/Time: [DATE] [TIME] UTC

The product folder is named using the following convention:
S1xy-aaaaaaaaTbbbbbb_ggggggggThhhhhh-pp-qqqqqq-rrd-ssxs-int-ccccc  
x:      	Sentinel-1 Mission (A or B) of reference (master) granule  
y:      	Sentinel-1 Mission (A or B) of secondary (slave) granule  
aaaaaaaa: 	Start Date of Acquisition (YYYYMMDD) of reference granule  
bbbbbb:   	Start Time of Acquisition (HHMMSS) of reference granule  
gggggggg: 	Start Date of Acquisition (YYYYMMDD) of secondary granule  
hhhhhh:   	Start Time of Acquisition (HHMMSS) of secondary granule  
pp:      	Polarization Type (SH: Single HH, SV: Single VV, DH: Dual HH+HV, DV: Dual VV+VH)  
qqqqqq: 	Orbit ephemerides file type (POEORB: Precise, RESORB: Restituted, ORBPRE: Predicted)  
rrd:      	Time separation in days (d) between reference and secondary granules  
ssxs:     	Multilooking applied prior to generating interferogram (azimuth looks x range looks)  
int:      	Interferogram  
ccccc:    	Software used for Processing (GAMMA, ISCE, GMT5SAR, S1TBX)  

** Note that the individual files within the folder are named with the Acquisition Date/Time for each of the two granules, but do not include any of the other tags listed above. **

----------------
Interferometric SAR (InSAR) uses the phase differences from repeat passes over the same area to identify regions where the distance between the sensor and the earth's surface has changed. This allows for the detection and quantification of deformation or movement.  

Note that the imaging surface will vary depending on the sensor wavelength. Because Sentinel-1 is a C-band sensor, the waves will not penetrate very deeply into vegetation. The imagery likely represents the top of the canopy in densely vegetated areas rather than the actual terrain. In addition, vegetated areas tend to have low coherence, because plants can grow or move from one acquisition to the next. Use caution when generating interferograms for areas with extensive/dense vegetation cover.  

A digital elevation model is required for processing InSAR, and ASF uses the best publicly-available DEM with full coverage of the processing area. The source of the DEM used for this particular product is [DEM], which has a native resolution of [RESA] arc seconds (about [RESM] meters). Scroll to the bottom of this file (after the description of InSAR Processing) to read more about the DEMs used by ASF.

----------------
### To cite the data: ###
ASF DAAC [YEARPROCESSED] using GAMMA software. Contains modified Copernicus Sentinel data [YEARACQUIRED], processed by ESA.

----------------
Visit the GAMMA Remote Sensing website for more information about GAMMA SAR Software:
https://www.gamma-rs.ch

----------------
*Consider opening this document in a Markdown editor/viewer for easier reading.*

***************
# Product Contents #

The files generated in this process include:

1. Wrapped Interferogram (PNG images, KMZ file)
2. Unwrapped Interferogram (GeoTIFF, PNG images, KMZ file)
3. Line-of-Sight Displacement Map (GeoTIFF) - *Optional*
4. Vertical Displacement Map (GeoTIFF)
5. Coherence Map (GeoTIFF)
6. Amplitude Image (GeoTIFF)
7. Parameter Documentation (Text File)
8. Look Vector maps (GeoTIFFs) - *Optional*

*See below for detailed descriptions of each of the product files.*

----------------
## 1. Wrapped Interferogram

The wrapped interferogram is output in both a georeferenced PNG and KMZ format. Because the fringes are on a wrapped 2-pi scale rather than representing continuous values, a wrapped interferogram is most useful as a visualization. This product displays deformation in multiples of half of the sensor wavelength, so areas with fringes that are very close together indicate greater amounts of deformation in the line-of-sight direction from the sensor.

The wrapped interferogram image is generated from the interferogram phase prior to unwrapping.

The wrapped interferogram files are tagged with _color_phase, and PNG files are generated in two different resolutions. The file _color_phase.png is a small browse image (1024 pixels wide), and _color_phase_large.png is of higher resolution (2048 pixels wide). The KMZ file is 2048 pixels wide.

----------------
## 2. Unwrapped Interferogram

The unwrapped interferogram uses a reference point to convert the wrapped 2-pi scale into a continuous scale (of multiples of pi), and is the most important and complicated step in InSAR processing. It relies on having a reference point beyond the area of deformation, and is most effective when there are not any jumps greater than pi (a deformation greater than half the wavelength within the space of a single fringe). In regions of large-magnitude deformations or extremely steep topography, the fringes may be too close together to resolve, or one fringe may actually represent a jump of multiple phase wraps. Gamma software uses algorithms to detect phase inconsistencies and treat them appropriately, but some deformations may still be too large to generate reliable data.

The GeoTIFF contains the unwrapped values for each pixel, corresponding to the change in distance along the line of sight of the sensor. Positive values indicate movement away from the sensor (caused by subsidence or lateral movement away from the sensor) and negative values indicate movement towards the sensor (uplift or lateral movement towards the sensor). Note that deformation often includes both vertical and horizontal components, and additional processing or external reference data is required to calculate the relative contributions of vertical and lateral movement.

The unwrapped interferogram files are tagged with _unw_phase, and the _unw_phase.tif file contains the data values. PNG files are generated in two different resolutions; the file _unw_phase.png is a small browse image (1024 pixels wide), and _unw_phase_large.png is of higher resolution (2048 pixels wide). Also included is a KMZ file (2048 pixels wide).

----------------
## 3. Line-of-Sight Displacement Map

The LOS displacement map is in GeoTIFF format and converts the unwrapped differential phase into measurements of ground movement in meters along the look vector (line-of-sight). Positive values indicate movement towards the sensor (such as uplift), while negative values indicate movement away from the sensor (such as subsidence).

The LOS displacement map is tagged with _los_disp.tif

*Note that this file is optional. Select the "Include LOS Disp" option in the HyP3 Processing Options to include it in the product package.*

----------------
## 4. Vertical Displacement Map

Gamma software generates a vertical displacement GeoTIFF from the unwrapped differential phase measurements under the assumption that the interferometric phase is related to topography only. The height map is transformed from the radar geometry (slant range/Doppler) using a DEM and resampled to the WGS84 ellipsoid to output an orthorectified product. Note that in cases where displacement occurs, the assumptions used to generate height may not be correct. Time series analysis or external data sources may be necessary to generate reliable displacement maps that take into consideration the relative influences of horizontal and vertical movement.

Values are in meters, with positive values indicating uplift and negative values indicating subsidence.

The vertical displacement map is tagged with _vert_disp.tif

----------------
## 5. Coherence Map

The spectra of the two images used for InSAR must overlap well enough to generate interferometric fringes. Areas without common overlap must be filtered out prior to InSAR generation. The correlation indicates the accuracy of the phase information, or the visibility of fringes. Areas with low correlation will have noisier phase. The magnitude of the correlation is commonly referred to as coherence. The coherence map is output as a GeoTIFF with values ranging from 0 to 1; the larger the number, the higher the coherence (and the better the correlation).

The coherence map is tagged with _corr.tif

----------------
## 6. Amplitude Image

The amplitude GeoTIFF indicates the calibrated radiometric backscatter from the reference (master) granule in sigma-nought power. The image is terrain corrected using a geometric correction, but not radiometrically corrected. For more informative amplitude data, order Radiometric Terrain Corrected (RTC) products for your area of interest.

The amplitude image is tagged with _amp.tif

----------------
## 7. Parameter Documentation

The text file included with the product lists the key processing parameters used, including the full granule names, baseline length, number of looks, output resolution, and source DEM information. Note that the DEM is down-sampled to twice the pixel spacing of the desired InSAR output pixel spacing; an 80-m InSAR product requires the DEM to be down-sampled to a pixel spacing of 160 m.

The output product resolution depends on the number of looks in azimuth:
pixel spacing = 20 * azimuth looks

The text file is not tagged; it has a .txt extension on the base filename.

----------------
## 8. Look Vector Maps

Two look vector maps are output with the product as GeoTIFFs. The lv_theta map indicates the SAR look vector elevation angle at each map pixel, ranging from -pi/2 (down) to pi/2 (up). The lv_phi map indicates the SAR look vector orientation angle at each map pixel, ranging from 0 (east) to pi/2 (north).

*Note that these files are optional. Select the "Angle Maps" option in the HyP3 Processing Options to include them in the product package.*

*************
# InSAR Processing #

The basic steps in InSAR processing are as follows:

*Pre-Processing*
1. Ingest SLC data into GAMMA format
2. Get DEM file covering the area from the ASF DEM heap
3. Calculate overlapping bursts for input scenes
4. Mosaic swaths and bursts together

*InSAR Processing*
5. Prepare initial look-up table and simulated unwrapped image
    - Derive lookup table for SLC/MLI co-registration (considering terrain heights)
    - Simulate unwrapped interferometric phase using DEM height, and deformation rate using orbit state vectors
6. Interferogram creation, matching, refinement
    - Initial co-registration with look-up table
    - Iterative co-registration with look-up table
    - Removal of curved earth and topographic phase
7. Determine a co-registration offset based on the burst overlap (spectral diversity method)
    - Single iteration co-registration with look-up table
8. Phase unwrapping and coherence map generation
9. Generation of displacement maps from unwrapped differential phase

*Post-Processing*
10. Generation of geocoded GeoTIFF outputs

----------------
The detailed process, including the calls to GAMMA software, is as follows:

## Ingest ##

 - par_s1_slc		 # Read in SLC information
 - S1_OPOD_vec		 # Update state vectors with precision state vectors

## Interferogram creation/matching/refinement ##

### Initial Step

 - create_offset	 # Create and update ISP offset and interferogram parameter files
 - rdc_trans		 # Derive lookup table for SLC/MLI co-registration (considering terrain heights)
 - phase_sim_orb	 # Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors

### Create Interferogram

 - SLC_interp_lt_S1_TOPS # Resample TOPS (IW mode) SLC using a lookup table and SLC offset polynomials for refinement
 - create_offset	 # Create and update ISP offset and interferogram parameter files
 - offset_pwr		 # Offset estimation between SLC images using intensity cross-correlation
 - offset_fit		 # Range and azimuth offset polynomial estimation
 - SLC_diff_intf	 # Differential interferogram generation from co-registered SLCs and a simulated interferogram

### Iterate Offset Calculations

 *Repeat three times:*

 - SLC_interp_lt_S1_TOPS # Resample TOPS (IW mode) SLC using a lookup table and SLC offset polynomials for refinement
 - create_offset	 # Create and update ISP offset and interferogram parameter files
 - offset_pwr		 # Offset estimation between SLC images using intensity cross-correlation
 - offset_fit		 # Range and azimuth offset polynomial estimation
 - SLC_diff_intf	 # Differential interferogram generation from co-registered SLCs and a simulated interferogram
 - offset_add		 # Add range and azimuth offset polynomial coefficients

### Check for Convergence

 Azimuth offset cannot exceed 0.02 pixels

### Perform Enhanced Spectral Diversity Refinement

 - S1_coreg_overlap	 # Determine co-registration offset based on the burst overlap

### Perform Final Matching

 - SLC_interp_lt_S1_TOPS # Resample TOPS (IW mode) SLC using a lookup table and SLC offset polynomials for refinement
 - create_offset	 # Create and update ISP offset and interferogram parameter files
 - offset_pwr		 # Offset estimation between SLC images using intensity cross-correlation
 - offset_fit		 # Range and azimuth offset polynomial estimation
 - SLC_diff_intf	 # Differential interferogram generation from co-registered SLCs and a simulated interferogram

## Unwrapping and Geocoding ##

### Unwrapping

 - adf			 # Adaptive spectral filtering for complex interferograms
 - rasmph_pwr		 # Generate 8-bit raster graphics image of the phase of complex data combined with intensity data
 - rascc		 # Generate 8-bit raster graphics image of correlation coefficient
 - rascc_mask		 # Generate phase unwrapping validity mask using correlation and intensity
 - mcf			 # Phase unwrapping using Minimum Cost Flow (MCF) and triangulation
 - rasrmg		 # Generate 8-bit raster graphics image from unwrapped phase and intensity data
 - dispmap		 # Conversion of unwrapped differential phase to displacement map (m) - Line-Of-Sight
 - dispmap		 # Conversion of unwrapped differential phase to displacement map (m) - Vertical

### Post-Processing

 - geocode_back		 # Geocoding of image data using lookup table values
 - data2geotiff		 # Convert geocoded data with DEM parameter file to GeoTIFF format

*************
# DEMs #

ASF uses publicly-available Digital Elevation Models for processing SAR data. The DEM used will vary by granule location; the best available DEM with full coverage of the granule extent will be used for processing any given granule. The source DEMs include the National Elevation Dataset (NED), the Shuttle Radar Topography Mission (SRTM), the Copernicus Land Monitoring Service EU-DEM (EUDEM), the Greenland Ice sheet Mapping Project DEM (GIMP), and the Reference Elevation Model of Antarctica DSM (REMA).

The NED provides the best available public domain raster elevation data of the conterminous United States, Alaska, Hawaii, and territorial islands in a seamless format. The NED is derived from diverse source data, processed to a common coordinate system and unit of vertical measure. For more information, refer to https://pubs.er.usgs.gov/publication/70201572. To download the data, visit https://viewer.nationalmap.gov/basic and expand the Elevation Products (3DEP) section.  

The SRTM was flown aboard the space shuttle Endeavour February 11-22, 2000. The National Aeronautics and Space Administration (NASA) and the National Geospatial-Intelligence Agency (NGA) participated in an international project to acquire radar data which were used to create the first near-global set of land elevations. For more information and to access the full SRTM dataset, refer to https://www.usgs.gov/centers/eros/science/usgs-eros-archive-digital-elevation-shuttle-radar-topography-mission-srtm-1-arc?qt-science_center_objects=0#qt-science_center_objects.  

The EUDEM combines data from a variety of sources, including the ASTER DEM, the SRTM, and Russian topographic maps. For more information and to access the full EU-DEM dataset, refer to https://land.copernicus.eu/imagery-in-situ/eu-dem/eu-dem-v1.1.  

The GIMP DEM was constructed by combining ASTER and SPOT 5 DEMs over the ice sheet periphery and margin with AVHRR photoclinometry for the interior and far north, and calibrating the data to approximate mean ICESat/GLAS elevations from 2003 to 2009. For more information and to access the full GIMP dataset, refer to https://nsidc.org/data/nsidc-0645.

The REMA DSM was constructed from hundreds of thousands of individual stereoscopic Digital Elevation Models extracted from pairs of submeter-resolution DigitalGlobe satellite imagery acquired between 2009 and 2017, and vertically registered to altimetry measurements from Cryosat-2 and ICESat. For more information and to access the full REMA dataset at the original 8-meter resolution, refer to https://www.pgc.umn.edu/data/rema.

*************
# The Sentinel-1 mission #

The Sentinel-1 satellite constellation is part of the Copernicus Earth Observation program, coordinated by the European Space Agency (ESA) on behalf of the European Commission (EC). Sentinel-1 satellites carry C-band Synthetic Aperture Radar (SAR) instruments for global, around-the-clock imagery, even through cloud cover. The Sentinel-1A satellite was launched April 3, 2014, and the Sentinel-1B satellite was launched April 25, 2016. The satellites each have a 12-day repeat cycle, but are offset 180 degrees in order to repeat passes every 6 days.

More information about the mission is available at:
https://earth.esa.int/web/guest/missions/esa-operational-eo-missions/sentinel-1

Additional information about Sentinel-1 data, imagery, tools and applications is available at:
https://asf.alaska.edu/data-sets/sar-data-sets/sentinel-1

*************
For assistance, contact the Alaska Satellite Facility:  
uso@asf.alaska.edu  
907-474-5041  

-------------
Revised 2020-03-11

